id: shopping-partner-v1
name: shopping-partner
version: 1.0.0
author: paras@getbindu.com

# Description
description: |
  Analyzes user shopping requirements to discover, compare, and recommend products
  from verified e-commerce platforms. Evaluates features, pricing, reviews,
  availability, and trust signals to provide structured recommendations with
  match scoring and safety validation.

# Tags and Modes
tags:
  - shopping
  - product-recommendation
  - e-commerce
  - comparison
  - consumer-advice
  - price-analysis
  - trusted-sources

input_modes:
  - text/plain
  - application/json

output_modes:
  - text/plain
  - application/json

# Example Queries
examples:
  - "Find running shoes under $150 for long-distance training"
  - "Recommend a laptop for programming with 16GB RAM and 512GB SSD"
  - "Best smartphone with good camera under $800"
  - "Compare espresso machines between $200 and $400"
  - "Gift ideas for a 10-year-old interested in robotics"

# Detailed Capabilities
capabilities_detail:
  primary_capability:
    supported: true
    description: "Provides structured product discovery and recommendation analysis"
    features:
      - "Matches products against user-defined requirements"
      - "Calculates match score (0–1 scale)"
      - "Evaluates price-to-value positioning"
      - "Verifies availability status"
      - "Analyzes user reviews and ratings"
      - "Provides trusted source validation"
    limitations: "Real-time inventory and pricing may vary; recommendations are advisory and not purchase guarantees"

  secondary_capability:
    supported: true
    description: "Provides comparative analysis and summarized buying guidance"
    features:
      - "Generates side-by-side product comparisons"
      - "Summarizes pros and cons"
      - "Provides price range insights"
      - "Assigns trust score (0–1 scale)"
      - "Suggests alternatives if constraints are too restrictive"

# Requirements
requirements:
  packages:
    - "agno"
    - "openai or openrouter"
    - "duckduckgo-search or exa-py"
    - "mem0"
  system:
    - "Internet access for product verification"
  min_memory_mb: 384

# Performance Metrics
performance:
  avg_processing_time_ms: 4000
  max_concurrent_requests: 6
  memory_per_request_mb: 384
  scalability: horizontal

# Tool Restrictions
allowed_tools:
  - Read
  - Write
  - Execute
  - Search
  - Analyze
  - Compare
  - Recommend
  - Verify

# Rich Documentation
documentation:
  overview: |
    This skill acts as an AI-powered personal shopping assistant.
    It analyzes user preferences, budget constraints, and product requirements
    to generate structured recommendations from verified sources.

    Outputs include ranked product recommendations, match scores,
    availability indicators, comparison summaries, and trust validation.
    Designed for informed purchase decision support.

  use_cases:
    when_to_use:
      - "Finding products within budget constraints"
      - "Comparing products before purchase"
      - "Matching features to user requirements"
      - "Verifying product availability and trust signals"
      - "Identifying alternatives when preferences are restrictive"
      - "Gift discovery based on interest and budget"

    when_not_to_use:
      - "Placing orders or processing payments"
      - "Managing inventory or seller listings"
      - "Real-time price tracking over time"
      - "Customer service or order tracking"
      - "Product manufacturing or supply chain analysis"

  input_structure: |
    Accepts shopping queries in plain text or structured JSON format.

    Example (Plain Text):
    "Recommend wireless headphones under $200 with noise cancellation"

    Example (JSON):
    {
      "query": "Laptop for programming",
      "budget_min": 1000,
      "budget_max": 2000,
      "currency": "USD",
      "preferences": {
        "brands": ["Dell", "Lenovo"],
        "features": ["16GB RAM", "512GB SSD"],
        "exclude_features": ["refurbished"]
      },
      "urgency": "low|medium|high"
    }

    Constraints:
    - Maximum 15 product recommendations per query
    - English language
    - Advisory recommendations only (no transaction execution)

  output_format: |
    Returns structured product recommendations.

    Output Structure:
    - SUMMARY:
      - Total products analyzed
      - Products recommended
      - Average match score (0–1)
      - Price range overview
      - Trust score (0–1)
    - RECOMMENDATIONS: For each product:
      - Product name
      - Brand
      - Price and currency
      - Match score (0–1)
      - Availability status
      - Key features
      - Pros
      - Cons
      - Rating and review count
    - ALTERNATIVES:
      - Suggested fallback options if constraints unmet
    - CONFIDENCE SCORE:
      - 0–1 scale reflecting data reliability

  error_handling:
    - "No products found: Suggests alternative search strategy"
    - "Budget constraints too restrictive: Recommends budget adjustment"
    - "Unavailable product: Provides alternative recommendations"
    - "Ambiguous requirements: Requests clarification"
    - "API timeout: Returns partial recommendations with notice"

  examples:
    - title: "Programming Laptop Search"
      input:
        query: "Laptop for programming with 16GB RAM and 512GB SSD"
        budget_min: 1000
        budget_max: 2000
      output:
        summary: "5 products recommended within budget"
        average_match_score: 0.84
        trust_score: 0.90
        processing_time_ms: 4200

    - title: "Smartphone Recommendation"
      input:
        query: "Smartphone with excellent camera under $800"
      output:
        summary: "4 products meet requirements"
        average_match_score: 0.79
        trust_score: 0.87
        processing_time_ms: 3800

  best_practices:
    for_developers:
      - "Prioritize verified and reputable sources"
      - "Maintain transparent match scoring methodology"
      - "Limit recommendations to high-confidence matches"
      - "Implement fallback search if primary API fails"
      - "Cache popular queries for performance optimization"

    for_orchestrators:
      - "Route shopping and product recommendation queries here"
      - "Chain with budget analysis agent if financial planning needed"
      - "Limit concurrency to 6 requests"
      - "Implement 30-second timeout with retry logic"
      - "Fallback to general search for simple product lookups"

  installation: |
    Required packages:
    pip install agno openai duckduckgo-search mem0

    Optional:
    pip install exa-py

    Environment variables:
    - OPENAI_API_KEY or OPENROUTER_API_KEY
    - EXA_API_KEY (optional)
    - MEM0_API_KEY (optional)

  versioning:
    - version: "1.0.0"
      date: "2026-01-13"
      changes: "Initial release with structured product recommendation and scoring"
    - version: "1.1.0"
      status: "planned"
      changes: "Add price trend analysis and deal detection"
    - version: "1.2.0"
      status: "planned"
      changes: "Enhanced personalization via preference learning"

# Assessment fields for skill negotiation
assessment:
  keywords:
    - "shop"
    - "buy"
    - "purchase"
    - "product"
    - "recommend"
    - "compare"
    - "price"
    - "budget"
    - "availability"
    - "gift"
    - "e-commerce"

  specializations:
    - domain: "electronics shopping"
      confidence_boost: 0.4
    - domain: "fashion shopping"
      confidence_boost: 0.3
    - domain: "home appliances"
      confidence_boost: 0.3
    - domain: "gift discovery"
      confidence_boost: 0.2

  anti_patterns:
    - "process payment"
    - "place order"
    - "track shipment"
    - "manage inventory"
    - "create product listing"
    - "customer service request"

  complexity_indicators:
    simple:
      - "price check"
      - "availability check"
      - "basic product info"
    medium:
      - "product comparison"
      - "feature filtering"
      - "brand selection"
    complex:
      - "multi-criteria matching"
      - "budget optimization"
      - "alternative suggestions"
      - "trust verification"
      - "comprehensive comparison"
